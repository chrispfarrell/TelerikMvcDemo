(function(d){var a=d.telerik;a.scripts.push("telerik.window.js");function c(e){return e&&!(/^([a-z]+:)?\/\//i).test(e)}function b(e){if(d.browser.msie&&d.browser.version<7){e.find(".t-resize-e,.t-resize-w").css("height",e.height()).end().find(".t-resize-n,.t-resize-s").css("width",e.width()).end().find(".t-overlay").css({width:e.width(),height:e.height()})}}a.fx.zoom=function(e){this.element=e};a.fx.zoom.prototype={play:function(h,f){var i=this.element.show();var g=i.find("> .t-window-content");var e={width:g.width(),height:g.height(),left:parseInt(i.css("left"))||0,top:parseInt(i.css("top"))||0};i.css({left:e.left+20,top:e.top+20}).animate({left:e.left,top:e.top},h.openDuration);g.css({width:e.width-40,height:e.height-40}).animate({width:e.width,height:e.height},h.openDuration,function(){if(f){f()}})},rewind:function(h,f){var i=this.element;var g=i.find("> .t-window-content");var e={width:g.width(),height:g.height(),left:parseInt(i.css("left")),top:parseInt(i.css("top"))};g.animate({width:e.width-40,height:e.height-40},h.closeDuration);i.animate({left:e.left+20,top:e.top+20},h.closeDuration,function(){i.css({left:e.left,top:e.top}).hide();setTimeout(function(){g.css({width:e.width,height:e.height})},0);if(f){f()}})}};a.fx.zoom.defaults=function(){return{list:[{name:"zoom"}],openDuration:"fast",closeDuration:"fast"}};a.window=function(e,f){this.element=e;var g=d(e),j=d.extend({},f);delete j.title;delete j.content;d.extend(this,j);if(!g.is(".t-window")){g.addClass("t-widget t-window");a.window.create(e,f)}if(!g.is("body")){var i;if(g.is(":visible")){i=g.offset();g.css({top:i.top,left:i.left})}else{g.css({visibility:"hidden",display:""});i=g.offset();g.css({top:i.top,left:i.left}).css({visibility:"visible",display:"none"})}g.toggleClass("t-rtl",g.closest(".t-rtl").length>0).appendTo(document.body)}if(this.modal&&g.is(":visible")){this.overlay(true).css({opacity:0.5})}g.bind("mousedown",function(){var l,k=this;d(".t-window").each(function(){var m=d(this);l=m.css("zIndex");if(!isNaN(l)){l=Math.max(parseInt(l),l)}if(this!=k&&m.find(".t-window-content > iframe").length>0){m.find(".t-window-content").append("<div class='t-overlay' />")}});d(k).css("zIndex",l+1).find(".t-window-content > .t-overlay").remove()});var h=".t-window-titlebar .t-link";g.delegate(h,"mouseenter",a.hover).delegate(h,"mouseleave",a.leave).delegate(h,"click",d.proxy(this.windowActionHandler,this));if(this.resizable){g.delegate(".t-window-titlebar","dblclick",d.proxy(this.toggleMaximization,this)).append(a.window.getResizeHandlesHtml());b(g);(function(l){function n(p){var o=d(l.element);l.initialCursorPosition=o.offset();l.resizeDirection=p.$draggable[0].className.replace("t-resize-handle t-resize-","").split("");l.resizeElement=o.find("> .t-window-content");l.initialSize={width:l.resizeElement.width(),height:l.resizeElement.height()};l.outlineSize={left:l.resizeElement.outerWidth()-l.resizeElement.width()+o.outerWidth()-o.width(),top:l.resizeElement.outerHeight()-l.resizeElement.height()+o.outerHeight()-o.height()+o.find("> .t-window-titlebar").outerHeight()};d('<div class="t-overlay" />').appendTo(l.element);o.find(".t-resize-handle").not(p.$draggable).hide();d(document.body).css("cursor",p.$draggable.css("cursor"))}function m(q){var p=d(l.element);var o={e:function(){var r=q.pageX-l.initialCursorPosition.left-l.outlineSize.left;l.resizeElement.width((r<l.minWidth?l.minWidth:(l.maxWidth&&r>l.maxWidth)?l.maxWidth:r))},s:function(){var r=q.pageY-l.initialCursorPosition.top-l.outlineSize.top;l.resizeElement.height((r<l.minHeight?l.minHeight:(l.maxHeight&&r>l.maxHeight)?l.maxHeight:r))},w:function(){var s=l.initialCursorPosition.left+l.initialSize.width;p.css("left",q.pageX>(s-l.minWidth)?s-l.minWidth:q.pageX<(s-l.maxWidth)?s-l.maxWidth:q.pageX);var r=s-q.pageX;l.resizeElement.width((r<l.minWidth?l.minWidth:(l.maxWidth&&r>l.maxWidth)?l.maxWidth:r))},n:function(){var r=l.initialCursorPosition.top+l.initialSize.height;p.css("top",q.pageY>(r-l.minHeight)?r-l.minHeight:q.pageY<(r-l.maxHeight)?r-l.maxHeight:q.pageY);var s=r-q.pageY;l.resizeElement.height((s<l.minHeight?l.minHeight:(l.maxHeight&&s>l.maxHeight)?l.maxHeight:s))}};d.each(l.resizeDirection,function(){o[this]()});b(p);if(d.browser.msie&&parseInt(d.browser.version)>=9){p[0].style.cssText=p[0].style.cssText}a.trigger(l.element,"resize")}function k(p){var o=d(l.element);o.find(".t-overlay").remove().end().find(".t-resize-handle").not(p.$draggable).show();d(document.body).css("cursor","");if(p.keyCode==27){b(o);o.css(l.initialCursorPosition);l.resizeElement.css(l.initialSize)}return false}new a.draggable({owner:l.element,selector:".t-resize-handle",scope:l.element.id+"-resizing",distance:0,start:n,drag:m,stop:k})})(this)}if(this.draggable){(function(l){function n(o){l.initialWindowPosition=d(l.element).position();l.startPosition={left:o.pageX-l.initialWindowPosition.left,top:o.pageY-l.initialWindowPosition.top};d(".t-resize-handle",l.element).hide();d('<div class="t-overlay" />').appendTo(l.element);d(document.body).css("cursor",o.$draggable.css("cursor"))}function m(p){var o={left:p.pageX-l.startPosition.left,top:Math.max(p.pageY-l.startPosition.top,0)};d(l.element).css(o)}function k(o){d(l.element).find(".t-resize-handle").show().end().find(".t-overlay").remove();d(document.body).css("cursor","");if(o.keyCode==27){o.$draggable.closest(".t-window").css(l.initialWindowPosition)}return false}new a.draggable({owner:l.element,selector:".t-window-titlebar",scope:l.element.id+"-moving",start:n,drag:m,stop:k})})(this)}a.bind(this,{open:this.onOpen,activated:this.onActivate,close:this.onClose,refresh:this.onRefresh,resize:this.onResize,error:this.onError,load:this.onLoad,move:this.onMove});d(window).resize(d.proxy(this.onDocumentResize,this));if(c(this.contentUrl)){this.ajaxRequest()}};a.window.prototype={overlay:function(e){var f=d("body > .t-overlay"),g=d(document);if(f.length==0){f=d('<div class="t-overlay" />').toggle(e).insertBefore(this.element)}else{f.insertBefore(this.element).toggle(e)}if(d.browser.msie&&d.browser.version<7){f.css({width:g.width()-21,height:g.height(),position:"absolute"})}return f},windowActionHandler:function(h){var g=d(h.target).closest(".t-link").find(".t-icon"),f=this;d.each({"t-close":this.close,"t-maximize":this.maximize,"t-restore":this.restore,"t-refresh":this.refresh},function(i,e){if(g.hasClass(i)){h.preventDefault();e.call(f);return false}})},center:function(){var f=d(this.element),h=d(window),g=d(document.body);var k=h.scrollLeft();var j=g.scrollLeft();var e=h.scrollTop();var i=g.scrollTop();if(jQuery.browser.webkit&&e==i){i=0;j=0}f.css({left:k+j+Math.max(0,(h.width()-f.width())/2),top:e+i+Math.max(0,(h.height()-f.height())/2)});return this},title:function(f){var e=d(".t-window-titlebar > .t-window-title",this.element);if(!f){return e.text()}e.text(f);return this},content:function(e){var f=d("> .t-window-content",this.element);if(!e){return f.html()}f.html(e);return this},open:function(h){var f=d(this.element);if(!a.trigger(this.element,"open")){if(this.modal){var g=this.overlay(false);if(this.effects.list.length>0&&this.effects.list[0].name!="toggle"){g.css("opacity",0).show().animate({opacity:0.5},this.effects.openDuration)}else{g.css("opacity",0.5).show()}}if(!f.is(":visible")){a.fx.play(this.effects,f,{},function(){a.trigger(f[0],"activated")})}}if(this.isMaximized){d("html, body").css("overflow","hidden")}return this},close:function(){var h=d(this.element);if(h.is(":visible")){if(!a.trigger(this.element,"close")){var g=d(".t-window").filter(function(){var i=d(this);return i.is(":visible")&&i.data("tWindow").modal});var e=this.modal&&g.length==1;var f=this.modal?this.overlay(true):d(undefined);if(e){if(this.effects.list.length>0&&this.effects.list[0].name!="toggle"){f.animate({opacity:0},this.effects.closeDuration)}else{f.hide()}}else{if(g.length>0){g.eq(g.length-2).data("tWindow").overlay(true)}}a.fx.rewind(this.effects,h,null,function(){h.hide();if(e){f.hide()}})}}if(this.isMaximized){d("html, body").css("overflow","")}return this},toggleMaximization:function(f){if(f&&d(f.target).closest(".t-link").length>0){return}this[this.isMaximized?"restore":"maximize"]()},restore:function(){if(!this.isMaximized){return}d(this.element).css({position:"absolute",left:this.restorationSettings.left,top:this.restorationSettings.top}).find("> .t-window-content").css({width:this.restorationSettings.width,height:this.restorationSettings.height}).end().find(".t-resize-handle").show().end().find(".t-window-titlebar .t-restore").addClass("t-maximize").removeClass("t-restore");d("html, body").css("overflow","");this.isMaximized=false;a.trigger(this.element,"resize");return this},maximize:function(h){if(this.isMaximized){return}var f=d(this.element),g=f.find("> .t-window-content");this.restorationSettings={left:f.position().left,top:f.position().top,width:g.width(),height:g.height()};f.css({left:0,top:0,position:"fixed"}).find(".t-resize-handle").hide().end().find(".t-window-titlebar .t-maximize").addClass("t-restore").removeClass("t-maximize");d("html, body").css("overflow","hidden");this.isMaximized=true;this.onDocumentResize();return this},onDocumentResize:function(){if(!this.isMaximized){return}var e=d(this.element),f=e.find("> .t-window-content");f.css({width:d(window).width()-(f.outerWidth()-f.width()+e.outerWidth()-e.width()),height:d(window).height()-(f.outerHeight()-f.height()+e.outerHeight()-e.height()+e.find("> .t-window-titlebar").outerHeight())});b(e);a.trigger(e,"resize")},refresh:function(){if(c(this.contentUrl)){this.ajaxRequest()}return this},ajaxRequest:function(e,f){var g=setTimeout(function(){d(".t-refresh",this.element).addClass("t-loading")},100);d.ajax({type:"GET",url:e||this.contentUrl,dataType:"html",data:f||{},cache:false,error:d.proxy(function(i,h){if(a.ajaxError(this.element,"error",i,h)){return}},this),complete:function(){clearTimeout(g);d(".t-refresh",this.element).removeClass("t-loading")},success:d.proxy(function(h,i){d(".t-window-content",this.element).html(h);a.trigger(this.element,"refresh")},this)})},destroy:function(){d(this.element).remove();var f=d(".t-window").filter(function(){var g=d(this);return g.is(":visible")&&g.data("tWindow").modal});var e=this.modal&&f.length==0;if(e){this.overlay(false).remove()}else{if(f.length>0){f.eq(f.length-2).data("tWindow").overlay(true)}}}};d.extend(a.window,{create:function(){var g,h,e;if(d.isPlainObject(arguments[0])){h=arguments[0]}else{g=arguments[0];h=d.extend({html:g.innerHTML},arguments[1])}h=d.extend({title:"",html:"",actions:["Close"]},h);e=h.contentUrl;var f=new a.stringBuilder().catIf('<div class="t-widget t-window">',!g).cat('<div class="t-window-titlebar t-header">').cat('&nbsp;<span class="t-window-title">').cat(h.title).cat("</span>").cat('<div class="t-window-actions t-header">');d.map(h.actions,function(i){f.cat('<a href="#" class="t-link">').cat('<span class="t-icon t-').cat(i.toLowerCase()).cat('">').cat(i).cat("</span></a>")});f.cat("</div></div>").cat('<div class="t-window-content t-content" style="');if(h.width){f.cat("width:").cat(h.width).cat("px;")}if(h.height){f.cat("height:").cat(h.height).cat("px;")}if(typeof(h.scrollable)!="undefined"&&h.scrollable===false){f.cat("overflow:hidden;")}f.cat('">').catIf(h.html,!e||(e&&c(e))).catIf('<iframe src="',e,'" title="',h.title,'" frameborder="0" style="border:0;width:100%;height:100%;">This page requires frames in order to show content</iframe>',e&&!c(e)).cat("</div>").catIf("</div>",!g);if(g){d(g).html(f.string())}else{delete h.title;return d(f.string()).appendTo(document.body).tWindow(h)}},getResizeHandlesHtml:function(){var e=new a.stringBuilder();d.each("n e s w se sw ne nw".split(" "),function(f,g){e.cat('<div class="t-resize-handle t-resize-').cat(g).catIf(" t-icon",g=="se").cat('"></div>')});return e.string()}});d.fn.tWindow=function(e){return a.create(this,{name:"tWindow",init:function(f,g){return new a.window(f,g)},success:function(h){var g=h.element,f=d(g);if(f.is(":visible")){a.trigger(g,"open");a.trigger(g,"activated")}},options:e})};d.fn.tWindow.defaults={effects:{list:[{name:"zoom"},{name:"property",properties:["opacity"]}],openDuration:"fast",closeDuration:"fast"},modal:false,resizable:true,draggable:true,minWidth:50,minHeight:50}})(jQuery);